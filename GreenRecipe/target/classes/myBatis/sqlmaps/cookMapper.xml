<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Cook">  

 <select id         = "RecipeList"
           resultType = "com.green.recipe.vo.RecipeVo">
           
        SELECT
		RCP_NM,
		RCP_PARTS_DTLS,
		ATT_FILE_NO_MAIN,
		ATT_FILE_NO_MK,
		HASH_TAG,
		INFO_CAR,
		INFO_FAT,
		INFO_NA,
		INFO_PRO,
		INFO_WGT,
		MANUAL01,
		MANUAL_IMG01,
		MANUAL02,
		MANUAL_IMG02,
		MANUAL03,
		MANUAL_IMG03,
		MANUAL04,
		MANUAL_IMG04,
		MANUAL05,
		MANUAL_IMG05,
		MANUAL06,
		MANUAL_IMG06,
		RCP_NA_TIP
        FROM
        RECIPE
        <foreach collection="list" item="material" index="index" open=" WHERE (" close=")" separator=" or ">
		    RCP_PARTS_DTLS like '%' || #{material} || '%'
		</foreach>
        ORDER BY RCP_NM ASC

           </select>
           
          <select id="MatarialList"
                  resultType="com.green.recipe.vo.MatarialVo"   >
         
          SELECT   MENU_ID
                 , MENU_NAME  
           FROM    MATERIAL
           WHERE   MENU_ID LIKE #{key} || '%'
         
          </select>
  
    <select id = "RecipeHan"
            resultType = "com.green.recipe.vo.RecipeVo">
            
            select 
            RCP_NM,
			RCP_PARTS_DTLS,
			ATT_FILE_NO_MAIN,
			ATT_FILE_NO_MK,
			HASH_TAG,
			INFO_CAR,
			INFO_FAT,
			INFO_NA,
			INFO_PRO,
			INFO_WGT,
			MANUAL01,
			MANUAL_IMG01,
			MANUAL02,
			MANUAL_IMG02,
			MANUAL03,
			MANUAL_IMG03,
			MANUAL04,
			MANUAL_IMG04,
			MANUAL05,
			MANUAL_IMG05,
			MANUAL06,
			MANUAL_IMG06,
			RCP_NA_TIP 
            
            
           FROM  RECIPE
           WHERE HASH_TAG = #{hashTag}       
                   
    
            </select>
  
  
  <select id = "RecipeTitle"
            resultType = "com.green.recipe.vo.RecipeVo">
            
            select 
            RCP_NM,
			RCP_PARTS_DTLS,
			ATT_FILE_NO_MAIN,
			ATT_FILE_NO_MK,
			HASH_TAG,
			INFO_CAR,
			INFO_FAT,
			INFO_NA,
			INFO_PRO,
			INFO_WGT,
			MANUAL01,
			MANUAL_IMG01,
			MANUAL02,
			MANUAL_IMG02,
			MANUAL03,
			MANUAL_IMG03,
			MANUAL04,
			MANUAL_IMG04,
			MANUAL05,
			MANUAL_IMG05,
			MANUAL06,
			MANUAL_IMG06,
			RCP_NA_TIP 
            
            
           FROM  RECIPE
           WHERE RCP_NM = #{recipeTitle}      
                   
    
            </select>
  
  <select id = "RecipeQuery"
            resultType = "com.green.recipe.vo.RecipeVo">
            
            select 
            RCP_NM,
			RCP_PARTS_DTLS,
			ATT_FILE_NO_MAIN,
			ATT_FILE_NO_MK,
			HASH_TAG,
			INFO_CAR,
			INFO_FAT,
			INFO_NA,
			INFO_PRO,
			INFO_WGT,
			MANUAL01,
			MANUAL_IMG01,
			MANUAL02,
			MANUAL_IMG02,
			MANUAL03,
			MANUAL_IMG03,
			MANUAL04,
			MANUAL_IMG04,
			MANUAL05,
			MANUAL_IMG05,
			MANUAL06,
			MANUAL_IMG06,
			RCP_NA_TIP 
            
            
           FROM  RECIPE
           WHERE RCP_NM LIKE '%' || #{query} || '%'      
                   
    
            </select>

 
 
</mapper>





   